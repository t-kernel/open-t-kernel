#ifdef __CC_ARM
/*
 *----------------------------------------------------------------------
 *    T-Kernel 2.0 Software Package
 *
 *    Copyright 2011 by Ken Sakamura.
 *    This software is distributed under the latest version of T-License 2.x.
 *----------------------------------------------------------------------
 *
 *    Released by T-Engine Forum(http://www.t-engine.org/) at 2011/05/17.
 *    Modified by TRON Forum(http://www.tron.org/) at 2015/06/01.
 *
 *----------------------------------------------------------------------
 *    Open T-Kernel Project
 *    Copyright 2017 Du Huanpeng <u74147@gmail.com>
 *----------------------------------------------------------------------
 */

#include <machine.h>
#include <tk/sysdef.h>

; generated by Component: ARM Compiler 5.06 update 1 (build 61) Tool: armcc [4d35ad]
; commandline armcc [-S disint-cpp.c]
        ARM
        REQUIRE8
        PRESERVE8

        AREA ||.text||, CODE, READONLY, ALIGN=2

disint PROC
	MRS	r0, CPSR
	ORR	ip, r0, #PSR_DI
	MSR	CPSR_xc, ip
	BX	lr
        ENDP

enaint PROC 
	AND	r3, r0, #PSR_DI
	MRS	r0, CPSR
	BIC	r2, r0, #PSR_DI
	ORR	r2, r2, r3
	MSR	CPSR_xc, r2
	BX	lr
	ENDP

        EXPORT disint [CODE]
        EXPORT enaint [CODE]

        END
#endif

